<?php

require_once DRUPAL_ROOT . '/vendor/google-api-php-client/vendor/autoload.php';


$client = new Google_Client();
$client->setApplicationName("My Application");
$client->setDeveloperKey("");

$service = new Google_Service_Calendar($client);


$calendarId = 'blakerscott@gmail.com';
$optParams = array(
  'maxResults' => 10,
  'orderBy' => 'startTime',
  'singleEvents' => true,
  'timeMin' => date('c'),
);
$results = $service->events->listEvents($calendarId, $optParams);
$events = $results->getItems();

if (empty($events)) {
    print "No current events.\n";
} else {
    print "Current events:\n";
    foreach ($events as $event) {
        $start = $event->start->dateTime;
        if (empty($start)) {
            $start = $event->start->date;
        }
        printf("%s (%s)\n", $event->getSummary(), $event->getLocation(), $start);
    }
}




